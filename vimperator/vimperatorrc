set runtimepath=~/.config/vimperator

hi StatusLine color: black;
set gui=nonavigation

nnoremap h H
nnoremap H h
nnoremap l L
nnoremap L l
nnoremap gh gT
nnoremap gl gt
nnoremap gt <C-^>

let mapleader = ","

command -nargs=0 interwiki javascript interwiki()
command -nargs=0 viewsource javascript view_source()
nnoremap <leader>z :interwiki<cr>
nnoremap <leader>s :viewsource<cr>
nnoremap <leader>gd :tabduplicate<cr>

js << EOF
    function interwiki() {
        url = io.system("interwiki", content.location.href)
        if (url) {
            content.location.href = url
        }
    }
EOF

js << EOF
    function view_source() {
        content.location.href.prepend('view-source:')
    }
EOF
